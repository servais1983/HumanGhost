<!DOCTYPE html>
<html>
<head>
    <style>
        /* ... styles existants ... */
        .campaign-selector { padding: 1em; background: #2a2d2e; border-radius: 5px; margin-bottom: 1em; display: flex; justify-content: space-between; align-items: center; }
        #report-btn { background-color: #569cd6; color: white; border: none; padding: 10px 15px; border-radius: 3px; cursor: pointer; text-decoration: none; }
    </style>
</head>
<body>
    <h1>ðŸŽ­ HumanGhost - Tableau de Bord</h1>
    <div class="campaign-selector">
        <div>
            <label for="campaign-select">Choisir une campagne:</label>
            <select id="campaign-select">
                {% for campaign in campaigns %}
                    <option value="{{ campaign.id }}">{{ campaign.name }} ({{ campaign.created_at.strftime('%Y-%m-%d %H:%M') }})</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <a href="#" id="report-btn" target="_blank">TÃ©lÃ©charger le Rapport PDF</a>
        </div>
    </div>
    <script>
        // ... (le javascript existant ne change pas) ...
        const reportBtn = document.getElementById('report-btn');

        // Fonction pour mettre Ã  jour le lien du bouton
        function updateReportLink(campaignId) {
            reportBtn.href = `/report/campaign/${campaignId}`;
        }

        // Mettre Ã  jour le lien au chargement et au changement
        if (campaignSelect.value) {
            loadEvents(campaignSelect.value);
            updateReportLink(campaignSelect.value);
        }

        campaignSelect.addEventListener('change', () => {
            const campaignId = campaignSelect.value;
            loadEvents(campaignId);
            updateReportLink(campaignId);
        });

    </script>
</body>
</html>
